<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Switcher Control - Options</title>
    <!-- <script src="/index.js"></script> -->
</head>
<body>
    <div class="header">
        Options
        <div class="right hidden">
            <button onclick="save()">Save</button>
        </div>
    </div>
    <div class="content">
        Switcher IP: <input type="text" value="" class="ip"><br /><br>
        Switcher Port: <input type="text" value="" class="port">
    </div>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
        }
        .right {
            float: right;
        }
        .header {
            padding: 10px;
            background: whitesmoke;
        }
        .content {
            padding: 10px;
        }
        .hidden {
            display: none;
        }
    </style>
    <script>
        const Store = require("electron-store")
        const $ = require("jquery")
        const store = new Store()
        
        $(".ip").val(store.get("switch_ip"))
        $(".port").val(store.get("switch_port"))

        $(".ip").on("change keydown paste input",() => {
            $(".right").removeClass("hidden")
        })

        $(".port").on("change keydown paste input", () => {
            $(".right").removeClass("hidden")
        })

        function save() {
            store.set("switch_ip", $(".ip").val())
            store.set("switch_port", $(".port").val())
            $(".right").addClass("hidden")
        }
    </script>
</body>
</html>